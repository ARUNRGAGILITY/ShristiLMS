<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VidyaLMS - Learning</title>
    
    <!-- Favicon and App Icons -->
    <link rel="icon" type="image/png" sizes="32x32" href="../assets/logo.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../assets/logo.png">
    <link rel="apple-touch-icon" sizes="180x180" href="../assets/logo.png">
    <link rel="icon" type="image/png" sizes="192x192" href="../assets/logo.png">
    <link rel="icon" type="image/png" sizes="512x512" href="../assets/logo.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.6.1/mermaid.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <style>
        .chapter-item {
            transition: all 0.3s ease;
        }
        .chapter-item:hover {
            transform: translateX(4px);
        }
        .chapter-item.active {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
        }
        .copy-btn {
            transition: all 0.3s ease;
        }
        .content-section {
            animation: fadeIn 0.5s ease-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .progress-circle {
            transition: stroke-dasharray 0.5s ease-in-out;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Navigation -->
    <nav class="bg-blue-600 text-white shadow-lg sticky top-0 z-50">
        <div class="container mx-auto px-4 py-3">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-2">
                    <div class="w-8 h-8 bg-white rounded-full flex items-center justify-center">
                        <span class="text-blue-600 font-bold text-lg">V</span>
                    </div>
                    <h1 class="text-xl font-bold">VidyaLMS</h1>
                </div>
                <div class="flex items-center space-x-4">
                    <a href="index.html" class="px-4 py-2 bg-blue-700 rounded-lg hover:bg-blue-800 transition">
                        🏠 Home
                    </a>
                    <button id="quizBtn" class="px-4 py-2 bg-green-600 rounded-lg hover:bg-green-700 transition">
                        📝 Take Quiz
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Course Header -->
    <div class="bg-white shadow-sm border-b">
        <div class="container mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <div>
                    <h1 id="courseTitle" class="text-2xl font-bold text-gray-800 mb-1">Loading...</h1>
                    <p id="courseInstructor" class="text-gray-600">Loading instructor...</p>
                </div>
                <div class="flex items-center space-x-6">
                    <!-- Progress Circle -->
                    <div class="relative w-16 h-16">
                        <svg class="w-16 h-16 transform -rotate-90" viewBox="0 0 64 64">
                            <circle cx="32" cy="32" r="28" fill="none" stroke="#e5e7eb" stroke-width="4"/>
                            <circle id="progressCircle" cx="32" cy="32" r="28" fill="none" stroke="#3b82f6" 
                                    stroke-width="4" stroke-dasharray="0 176" class="progress-circle"/>
                        </svg>
                        <div class="absolute inset-0 flex items-center justify-center">
                            <span id="progressPercent" class="text-sm font-bold text-blue-600">0%</span>
                        </div>
                    </div>
                    <!-- Content Filters -->
                    <div class="flex items-center space-x-4 bg-gray-100 px-4 py-2 rounded-lg">
                        <label class="flex items-center space-x-2 cursor-pointer">
                            <input type="checkbox" id="showTheory" checked class="rounded text-blue-600">
                            <span class="text-sm font-medium">📖 Theory</span>
                        </label>
                        <label class="flex items-center space-x-2 cursor-pointer">
                            <input type="checkbox" id="showCode" checked class="rounded text-blue-600">
                            <span class="text-sm font-medium">💻 Code</span>
                        </label>
                        <label class="flex items-center space-x-2 cursor-pointer">
                            <input type="checkbox" id="showTips" checked class="rounded text-blue-600">
                            <span class="text-sm font-medium">💡 Tips</span>
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="container mx-auto px-4 py-6">
        <div class="flex gap-6">
            <!-- Left Sidebar - Chapter Navigation -->
            <div class="w-1/4 bg-white rounded-lg shadow-lg p-6 h-fit sticky top-24">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-lg font-bold text-gray-800">📚 Chapters</h3>
                    <span id="chapterCount" class="text-sm text-gray-500">0 chapters</span>
                </div>
                <div id="chaptersList" class="space-y-2">
                    <!-- Chapters will be populated here -->
                </div>
                
                <!-- Course Info -->
                <div class="mt-8 pt-6 border-t border-gray-200">
                    <h4 class="font-medium text-gray-800 mb-3">📊 Course Details</h4>
                    <div class="space-y-2 text-sm text-gray-600">
                        <div class="flex justify-between">
                            <span>Duration:</span>
                            <span id="courseDuration" class="font-medium">-</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Difficulty:</span>
                            <span id="courseDifficulty" class="font-medium">-</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Modules:</span>
                            <span id="courseModules" class="font-medium">-</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Main Content Area -->
            <div class="flex-1">
                <!-- Chapter Content -->
                <div class="bg-white rounded-lg shadow-lg overflow-hidden">
                    <div id="chapterHeader" class="bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6">
                        <h2 id="chapterTitle" class="text-2xl font-bold mb-2">Select a chapter to begin</h2>
                        <p id="chapterDescription" class="text-blue-100">Choose a chapter from the sidebar to start learning</p>
                    </div>

                    <div id="chapterContent" class="p-8">
                        <div class="text-center py-12">
                            <div class="text-6xl mb-4">📚</div>
                            <h3 class="text-xl font-medium text-gray-600 mb-2">Ready to Learn?</h3>
                            <p class="text-gray-500">Select a chapter from the left sidebar to begin your learning journey</p>
                        </div>
                    </div>
                </div>

                <!-- Navigation Buttons -->
                <div class="flex justify-between mt-6">
                    <button id="prevChapterBtn" class="px-6 py-3 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition disabled:opacity-50" disabled>
                        ← Previous Chapter
                    </button>
                    <button id="nextChapterBtn" class="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition disabled:opacity-50" disabled>
                        Next Chapter →
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/courses.js"></script>
    <script>
        let currentCourse = null;
        let courseContent = null;
        let currentChapterIndex = 0;
        let completedChapters = new Set();

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            const urlParams = new URLSearchParams(window.location.search);
            const courseId = urlParams.get('course');
            
            if (courseId) {
                loadCourse(courseId);
            } else {
                alert('No course specified');
                window.location.href = 'index.html';
            }

            setupEventListeners();
            mermaid.initialize({ startOnLoad: true });
        });

        function setupEventListeners() {
            // Content filters
            document.getElementById('showTheory').addEventListener('change', updateContentDisplay);
            document.getElementById('showCode').addEventListener('change', updateContentDisplay);
            document.getElementById('showTips').addEventListener('change', updateContentDisplay);

            // Navigation buttons
            document.getElementById('prevChapterBtn').addEventListener('click', () => navigateChapter(-1));
            document.getElementById('nextChapterBtn').addEventListener('click', () => navigateChapter(1));

            // Quiz button
            document.getElementById('quizBtn').addEventListener('click', () => {
                window.location.href = `quiz.html?course=${currentCourse.id}`;
            });
        }

        async function loadCourse(courseId) {
            // Load course data
            currentCourse = getCourseById(courseId);
            if (!currentCourse) {
                alert('Course not found');
                window.location.href = 'index.html';
                return;
            }

            // Update course header
            updateCourseHeader();

            // Load course content
            try {
                const response = await fetch(`courses/${courseId}/${courseId}_content.js`);
                if (response.ok) {
                    const contentScript = await response.text();
                    eval(contentScript); // Execute the content script
                    courseContent = window.courseContent; // Get the content from global scope
                    renderChapters();
                } else {
                    // Fallback to demo content
                    loadDemoContent(courseId);
                }
            } catch (error) {
                console.log('Loading demo content for', courseId);
                loadDemoContent(courseId);
            }
        }

        function updateCourseHeader() {
            document.getElementById('courseTitle').textContent = currentCourse.name;
            document.getElementById('courseInstructor').textContent = `Instructor: ${currentCourse.instructor}`;
            document.getElementById('courseDuration').textContent = currentCourse.duration;
            document.getElementById('courseDifficulty').textContent = currentCourse.difficulty;
            document.getElementById('courseModules').textContent = currentCourse.modules;
            document.title = `VidyaLMS - ${currentCourse.name}`;
        }

        function loadDemoContent(courseId) {
            // Demo content for AI Foundations
            if (courseId === 'ai-foundations') {
                courseContent = {
                    chapters: [
                        {
                            id: 1,
                            title: 'Introduction to Artificial Intelligence',
                            description: 'Understanding the fundamentals of AI and its applications',
                            theory: `
                                <div class="prose max-w-none">
                                    <h3 class="text-2xl font-bold mb-4">What is Artificial Intelligence?</h3>
                                    <p class="text-lg mb-4">Artificial Intelligence (AI) is the simulation of human intelligence in machines that are programmed to think and learn like humans. AI systems can perform tasks that typically require human intelligence, such as visual perception, speech recognition, decision-making, and language translation.</p>
                                    
                                    <h4 class="text-xl font-semibold mb-3 mt-6">Brief History of AI</h4>
                                    <ul class="list-disc pl-6 mb-4">
                                        <li><strong>1950s:</strong> Alan Turing proposes the Turing Test</li>
                                        <li><strong>1956:</strong> Term "Artificial Intelligence" coined at Dartmouth Conference</li>
                                        <li><strong>1980s:</strong> Expert systems gain popularity</li>
                                        <li><strong>1990s:</strong> Machine learning algorithms advance</li>
                                        <li><strong>2010s:</strong> Deep learning revolution begins</li>
                                        <li><strong>2020s:</strong> Large language models and generative AI emerge</li>
                                    </ul>

                                    <h4 class="text-xl font-semibold mb-3 mt-6">Types of AI</h4>
                                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                                        <div class="bg-blue-50 p-4 rounded-lg border-l-4 border-blue-500">
                                            <h5 class="font-bold text-blue-800">Narrow AI (ANI)</h5>
                                            <p class="text-blue-700 text-sm">AI designed for specific tasks. This is what we have today.</p>
                                            <p class="text-xs text-blue-600 mt-2">Examples: Siri, Chess programs, Image recognition</p>
                                        </div>
                                        <div class="bg-yellow-50 p-4 rounded-lg border-l-4 border-yellow-500">
                                            <h5 class="font-bold text-yellow-800">General AI (AGI)</h5>
                                            <p class="text-yellow-700 text-sm">AI with human-level cognitive abilities across all domains.</p>
                                            <p class="text-xs text-yellow-600 mt-2">Status: Theoretical, not yet achieved</p>
                                        </div>
                                        <div class="bg-red-50 p-4 rounded-lg border-l-4 border-red-500">
                                            <h5 class="font-bold text-red-800">Super AI (ASI)</h5>
                                            <p class="text-red-700 text-sm">AI that surpasses human intelligence in all aspects.</p>
                                            <p class="text-xs text-red-600 mt-2">Status: Hypothetical future possibility</p>
                                        </div>
                                    </div>

                                    <h4 class="text-xl font-semibold mb-3 mt-6">AI Applications Today</h4>
                                    <div class="grid grid-cols-2 gap-4">
                                        <div>
                                            <h5 class="font-semibold mb-2">🏥 Healthcare</h5>
                                            <ul class="text-sm text-gray-700 list-disc pl-4">
                                                <li>Medical image analysis</li>
                                                <li>Drug discovery</li>
                                                <li>Personalized treatment</li>
                                            </ul>
                                        </div>
                                        <div>
                                            <h5 class="font-semibold mb-2">🚗 Transportation</h5>
                                            <ul class="text-sm text-gray-700 list-disc pl-4">
                                                <li>Autonomous vehicles</li>
                                                <li>Traffic optimization</li>
                                                <li>Route planning</li>
                                            </ul>
                                        </div>
                                        <div>
                                            <h5 class="font-semibold mb-2">💰 Finance</h5>
                                            <ul class="text-sm text-gray-700 list-disc pl-4">
                                                <li>Fraud detection</li>
                                                <li>Algorithmic trading</li>
                                                <li>Credit scoring</li>
                                            </ul>
                                        </div>
                                        <div>
                                            <h5 class="font-semibold mb-2">🎯 Marketing</h5>
                                            <ul class="text-sm text-gray-700 list-disc pl-4">
                                                <li>Personalized recommendations</li>
                                                <li>Customer segmentation</li>
                                                <li>Chatbots and virtual assistants</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            `,
                            code: `
                                <div class="code-content">
                                    <h4 class="text-xl font-semibold mb-4">🔬 Simple AI Example - Linear Regression</h4>
                                    <p class="text-gray-700 mb-4">Let's start with a basic machine learning example using Python and scikit-learn:</p>
                                    
                                    <div class="bg-gray-900 rounded-lg p-4 mb-4">
                                        <div class="flex justify-between items-center mb-2">
                                            <span class="text-gray-400 text-sm">Python</span>
                                            <button class="copy-btn bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm" onclick="copyCode(this)">
                                                📋 Copy
                                            </button>
                                        </div>
                                        <pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt
from sklearn.linear_model import LinearRegression
from sklearn.metrics import mean_squared_error, r2_score

# Sample data: Hours studied vs Exam scores
hours_studied = np.array([[1], [2], [3], [4], [5], [6], [7], [8], [9], [10]])
exam_scores = np.array([50, 55, 65, 70, 80, 85, 90, 92, 95, 98])

# Create and train the model
model = LinearRegression()
model.fit(hours_studied, exam_scores)

# Make predictions
predictions = model.predict(hours_studied)

# Calculate metrics
mse = mean_squared_error(exam_scores, predictions)
r2 = r2_score(exam_scores, predictions)

# Print results
print(f"Model Equation: Score = {model.coef_[0]:.2f} * Hours + {model.intercept_:.2f}")
print(f"R-squared Score: {r2:.3f}")
print(f"Mean Squared Error: {mse:.2f}")

# Predict for new data
new_hours = np.array([[12], [15]])
new_predictions = model.predict(new_hours)
print(f"\\nPredictions for 12 and 15 hours: {new_predictions}")

# Visualize the results
plt.figure(figsize=(10, 6))
plt.scatter(hours_studied, exam_scores, color='blue', alpha=0.7, label='Actual Data')
plt.plot(hours_studied, predictions, color='red', linewidth=2, label='Linear Regression')
plt.xlabel('Hours Studied')
plt.ylabel('Exam Score')
plt.title('Linear Regression: Hours Studied vs Exam Score')
plt.legend()
plt.grid(True, alpha=0.3)
plt.show()</code></pre>
                                    </div>

                                    <div class="bg-blue-50 p-4 rounded-lg mb-4">
                                        <h5 class="font-semibold text-blue-800 mb-2">📊 Expected Output:</h5>
                                        <pre class="text-sm text-blue-700">Model Equation: Score = 5.68 * Hours + 44.00
R-squared Score: 0.986
Mean Squared Error: 6.48

Predictions for 12 and 15 hours: [112.18 129.23]</pre>
                                    </div>

                                    <h4 class="text-xl font-semibold mb-4 mt-6">🧠 Understanding the Code</h4>
                                    <div class="space-y-3">
                                        <div class="bg-white p-3 rounded border-l-4 border-green-500">
                                            <strong>Data Preparation:</strong> We create sample data showing the relationship between study hours and exam scores.
                                        </div>
                                        <div class="bg-white p-3 rounded border-l-4 border-blue-500">
                                            <strong>Model Training:</strong> LinearRegression learns the pattern from our data.
                                        </div>
                                        <div class="bg-white p-3 rounded border-l-4 border-purple-500">
                                            <strong>Prediction:</strong> The trained model can predict scores for new study hour values.
                                        </div>
                                        <div class="bg-white p-3 rounded border-l-4 border-orange-500">
                                            <strong>Evaluation:</strong> R² score (0.986) shows our model explains 98.6% of the variance.
                                        </div>
                                    </div>
                                </div>
                            `,
                            tips: `
                                <div class="tips-content">
                                    <div class="bg-gradient-to-r from-yellow-50 to-orange-50 border-l-4 border-yellow-400 p-6 rounded-lg">
                                        <h4 class="text-xl font-bold text-yellow-800 mb-4 flex items-center">
                                            💡 Pro Tips for AI Beginners
                                        </h4>
                                        
                                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                            <div class="bg-white p-4 rounded-lg shadow-sm">
                                                <h5 class="font-semibold text-gray-800 mb-2">🎯 Start Simple</h5>
                                                <p class="text-gray-700 text-sm">Begin with basic algorithms like linear regression before moving to complex neural networks.</p>
                                            </div>
                                            
                                            <div class="bg-white p-4 rounded-lg shadow-sm">
                                                <h5 class="font-semibold text-gray-800 mb-2">📚 Learn the Math</h5>
                                                <p class="text-gray-700 text-sm">Understanding statistics, calculus, and linear algebra will make AI concepts clearer.</p>
                                            </div>
                                            
                                            <div class="bg-white p-4 rounded-lg shadow-sm">
                                                <h5 class="font-semibold text-gray-800 mb-2">🔧 Practice with Tools</h5>
                                                <p class="text-gray-700 text-sm">Get comfortable with Python, Jupyter notebooks, and libraries like scikit-learn.</p>
                                            </div>
                                            
                                            <div class="bg-white p-4 rounded-lg shadow-sm">
                                                <h5 class="font-semibold text-gray-800 mb-2">📊 Focus on Data</h5>
                                                <p class="text-gray-700 text-sm">Good data is more important than complex algorithms. Learn data cleaning and preparation.</p>
                                            </div>
                                        </div>

                                        <div class="mt-6 p-4 bg-yellow-100 rounded-lg">
                                            <h5 class="font-semibold text-yellow-800 mb-2">🚀 Quick Start Checklist</h5>
                                            <ul class="text-yellow-700 text-sm space-y-1">
                                                <li>✅ Install Python and Jupyter Notebook</li>
                                                <li>✅ Learn pandas for data manipulation</li>
                                                <li>✅ Practice with scikit-learn examples</li>
                                                <li>✅ Join AI communities and forums</li>
                                                <li>✅ Work on small projects regularly</li>
                                            </ul>
                                        </div>
                                        
                                        <div class="mt-4 p-3 bg-blue-100 rounded border-l-4 border-blue-500">
                                            <p class="text-blue-800 text-sm">
                                                <strong>Remember:</strong> AI is a journey, not a destination. Every expert was once a beginner!
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            `
                        },
                        {
                            id: 2,
                            title: 'Machine Learning Fundamentals',
                            description: 'Core concepts of machine learning and its types',
                            theory: `
                                <div class="prose max-w-none">
                                    <h3 class="text-2xl font-bold mb-4">Machine Learning Fundamentals</h3>
                                    <p class="text-lg mb-4">Machine Learning (ML) is a subset of AI that enables computers to learn and improve from experience without being explicitly programmed for every task.</p>
                                    
                                    <div class="bg-blue-50 p-6 rounded-lg mb-6">
                                        <h4 class="text-xl font-semibold mb-3">The Three Types of Machine Learning</h4>
                                        <div class="space-y-4">
                                            <div class="border-l-4 border-green-500 pl-4">
                                                <h5 class="font-bold text-green-700">1. Supervised Learning</h5>
                                                <p class="text-gray-700">Learning with labeled examples (input-output pairs)</p>
                                                <p class="text-sm text-gray-600">Examples: Classification, Regression</p>
                                            </div>
                                            <div class="border-l-4 border-blue-500 pl-4">
                                                <h5 class="font-bold text-blue-700">2. Unsupervised Learning</h5>
                                                <p class="text-gray-700">Finding patterns in data without labels</p>
                                                <p class="text-sm text-gray-600">Examples: Clustering, Dimensionality Reduction</p>
                                            </div>
                                            <div class="border-l-4 border-purple-500 pl-4">
                                                <h5 class="font-bold text-purple-700">3. Reinforcement Learning</h5>
                                                <p class="text-gray-700">Learning through trial and error with rewards</p>
                                                <p class="text-sm text-gray-600">Examples: Game AI, Robotics</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            `,
                            code: `
                                <div class="code-content">
                                    <h4 class="text-xl font-semibold mb-4">🔍 Classification Example</h4>
                                    <div class="bg-gray-900 rounded-lg p-4 mb-4">
                                        <div class="flex justify-between items-center mb-2">
                                            <span class="text-gray-400 text-sm">Python - Iris Classification</span>
                                            <button class="copy-btn bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm" onclick="copyCode(this)">
                                                📋 Copy
                                            </button>
                                        </div>
                                        <pre><code class="language-python">from sklearn.datasets import load_iris
from sklearn.model_selection import train_test_split
from sklearn.ensemble import RandomForestClassifier
from sklearn.metrics import accuracy_score, classification_report
import pandas as pd

# Load the famous Iris dataset
iris = load_iris()
X, y = iris.data, iris.target

# Split data into training and testing sets
X_train, X_test, y_train, y_test = train_test_split(
    X, y, test_size=0.2, random_state=42
)

# Create and train the model
clf = RandomForestClassifier(n_estimators=100, random_state=42)
clf.fit(X_train, y_train)

# Make predictions
predictions = clf.predict(X_test)

# Evaluate the model
accuracy = accuracy_score(y_test, predictions)
print(f"Accuracy: {accuracy:.2f}")
print("\\nClassification Report:")
print(classification_report(y_test, predictions, 
                          target_names=iris.target_names))</code></pre>
                                    </div>
                                </div>
                            `,
                            tips: `
                                <div class="bg-green-50 border-l-4 border-green-400 p-6 rounded-lg">
                                    <h4 class="font-bold text-green-800 mb-3">🎯 Machine Learning Best Practices</h4>
                                    <ul class="text-green-700 space-y-2">
                                        <li>• Always split your data into train/validation/test sets</li>
                                        <li>• Start with simple models before trying complex ones</li>
                                        <li>• Feature engineering often matters more than algorithm choice</li>
                                        <li>• Cross-validation helps ensure robust model performance</li>
                                    </ul>
                                </div>
                            `
                        }
                    ]
                };
            } else {
                // Generic demo content for other courses
                courseContent = {
                    chapters: [
                        {
                            id: 1,
                            title: `Introduction to ${currentCourse.name}`,
                            description: `Getting started with ${currentCourse.name}`,
                            theory: `
                                <div class="prose max-w-none">
                                    <h3 class="text-2xl font-bold mb-4">Welcome to ${currentCourse.name}</h3>
                                    <p class="text-lg mb-4">This comprehensive course will take you through all the essential concepts and practical skills needed to master ${currentCourse.name.toLowerCase()}.</p>
                                    
                                    <h4 class="text-xl font-semibold mb-3">What You'll Learn</h4>
                                    <ul class="list-disc pl-6 mb-4">
                                        ${currentCourse.learningOutcomes.map(outcome => `<li>${outcome}</li>`).join('')}
                                    </ul>
                                    
                                    <div class="bg-blue-50 p-4 rounded-lg">
                                        <h5 class="font-semibold text-blue-800">Course Duration: ${currentCourse.duration}</h5>
                                        <p class="text-blue-700">Difficulty Level: ${currentCourse.difficulty}</p>
                                    </div>
                                </div>
                            `,
                            code: `
                                <div class="code-content">
                                    <h4 class="text-xl font-semibold mb-4">Sample Code Structure</h4>
                                    <div class="bg-gray-900 rounded-lg p-4">
                                        <div class="flex justify-between items-center mb-2">
                                            <span class="text-gray-400 text-sm">Example Code</span>
                                            <button class="copy-btn bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm" onclick="copyCode(this)">
                                                📋 Copy
                                            </button>
                                        </div>
                                        <pre><code class="language-javascript">// This is a sample code block for ${currentCourse.name}
console.log("Welcome to ${currentCourse.name}!");

// More detailed content will be available in the actual course files
function startLearning() {
    return "Let's begin your journey!";
}</code></pre>
                                    </div>
                                </div>
                            `,
                            tips: `
                                <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-lg">
                                    <h4 class="font-bold text-yellow-800">💡 Getting Started Tips</h4>
                                    <ul class="text-yellow-700 mt-2">
                                        <li>• Take your time with each chapter</li>
                                        <li>• Practice the code examples</li>
                                        <li>• Complete the quizzes to test your understanding</li>
                                    </ul>
                                </div>
                            `
                        }
                    ]
                };
            }
            
            renderChapters();
        }

        function renderChapters() {
            const chaptersList = document.getElementById('chaptersList');
            chaptersList.innerHTML = '';

            document.getElementById('chapterCount').textContent = `${courseContent.chapters.length} chapters`;

            courseContent.chapters.forEach((chapter, index) => {
                const chapterItem = document.createElement('div');
                chapterItem.className = `chapter-item p-3 rounded-lg cursor-pointer ${index === currentChapterIndex ? 'active' : 'bg-gray-50 hover:bg-gray-100 text-gray-700'}`;
                
                const isCompleted = completedChapters.has(index);
                chapterItem.innerHTML = `
                    <div class="flex items-center justify-between">
                        <div>
                            <div class="font-medium">${chapter.id}. ${chapter.title}</div>
                            <div class="text-xs opacity-75 mt-1">${chapter.description}</div>
                        </div>
                        <div class="text-right">
                            ${isCompleted ? '<span class="text-green-500">✓</span>' : '<span class="text-gray-400">○</span>'}
                        </div>
                    </div>
                `;
                
                chapterItem.onclick = () => displayChapter(index);
                chaptersList.appendChild(chapterItem);
            });

            // Display first chapter by default
            if (courseContent.chapters.length > 0) {
                displayChapter(currentChapterIndex);
            }
        }

        function displayChapter(chapterIndex) {
            if (chapterIndex < 0 || chapterIndex >= courseContent.chapters.length) return;
            
            currentChapterIndex = chapterIndex;
            const chapter = courseContent.chapters[chapterIndex];
            
            // Update chapter header
            document.getElementById('chapterTitle').textContent = chapter.title;
            document.getElementById('chapterDescription').textContent = chapter.description;
            
            // Mark chapter as completed when viewed
            completedChapters.add(chapterIndex);
            
            // Update content
            updateContentDisplay();
            
            // Update navigation buttons
            updateNavigationButtons();
            
            // Update progress
            updateProgress();
            
            // Re-render chapters to show completion status
            renderChapters();
        }

        function updateContentDisplay() {
            const chapter = courseContent.chapters[currentChapterIndex];
            const showTheory = document.getElementById('showTheory').checked;
            const showCode = document.getElementById('showCode').checked;
            const showTips = document.getElementById('showTips').checked;

            let html = '';
            
            if (showTheory && chapter.theory) {
                html += `<div class="content-section theory-content mb-8">${chapter.theory}</div>`;
            }
            
            if (showCode && chapter.code) {
                html += `<div class="content-section code-content mb-8">${chapter.code}</div>`;
            }
            
            if (showTips && chapter.tips) {
                html += `<div class="content-section tips-content">${chapter.tips}</div>`;
            }

            document.getElementById('chapterContent').innerHTML = html || '<div class="text-center py-12 text-gray-500">Select content types to view</div>';
            
            // Re-initialize Prism for syntax highlighting
            if (window.Prism) {
                Prism.highlightAll();
            }
        }

        function updateNavigationButtons() {
            const prevBtn = document.getElementById('prevChapterBtn');
            const nextBtn = document.getElementById('nextChapterBtn');
            
            prevBtn.disabled = currentChapterIndex === 0;
            nextBtn.disabled = currentChapterIndex === courseContent.chapters.length - 1;
            
            if (currentChapterIndex > 0) {
                prevBtn.textContent = `← ${courseContent.chapters[currentChapterIndex - 1].title}`;
            }
            
            if (currentChapterIndex < courseContent.chapters.length - 1) {
                nextBtn.textContent = `${courseContent.chapters[currentChapterIndex + 1].title} →`;
            }
        }

        function updateProgress() {
            const progress = (completedChapters.size / courseContent.chapters.length) * 100;
            const circumference = 2 * Math.PI * 28; // radius = 28
            const offset = circumference - (progress / 100) * circumference;
            
            document.getElementById('progressCircle').style.strokeDasharray = `${circumference} ${circumference}`;
            document.getElementById('progressCircle').style.strokeDashoffset = offset;
            document.getElementById('progressPercent').textContent = `${Math.round(progress)}%`;
        }

        function navigateChapter(direction) {
            const newIndex = currentChapterIndex + direction;
            if (newIndex >= 0 && newIndex < courseContent.chapters.length) {
                displayChapter(newIndex);
            }
        }

        function copyCode(button) {
            const codeBlock = button.closest('.bg-gray-900').querySelector('code');
            navigator.clipboard.writeText(codeBlock.textContent).then(() => {
                const originalText = button.textContent;
                button.textContent = '✅ Copied!';
                button.classList.remove('bg-blue-500', 'hover:bg-blue-600');
                button.classList.add('bg-green-500');
                
                setTimeout(() => {
                    button.textContent = originalText;
                    button.classList.remove('bg-green-500');
                    button.classList.add('bg-blue-500', 'hover:bg-blue-600');
                }, 2000);
            });
        }
    </script>
</body>
</html>